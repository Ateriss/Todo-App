{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from 'react';\nimport { AppUI } from './AppUI';\nfunction useLocalStorage(itemName, initialValue) {\n  _s();\n  // Creamos el estado inicial para nuestros errores y carga\n  const [error, setError] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const [item, setItem] = React.useState(initialValue);\n  React.useEffect(() => {\n    // Simulamos un segundo de delay de carga \n    setTimeout(() => {\n      // Manejamos la tarea dentro de un try/catch por si ocurre algún error\n      try {\n        const localStorageItem = localStorage.getItem(itemName);\n        let parsedItem;\n        if (!localStorageItem) {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = initialValue;\n        } else {\n          parsedItem = JSON.parse(localStorageItem);\n        }\n        setItem(parsedItem);\n      } catch (error) {\n        // En caso de un error lo guardamos en el estado\n        setError(error);\n      } finally {\n        // También podemos utilizar la última parte del try/cath (finally) para terminar la carga\n        setLoading(false);\n      }\n    }, 1000);\n  });\n  const saveItem = newItem => {\n    // Manejamos la tarea dentro de un try/catch por si ocurre algún error\n    try {\n      const stringifiedItem = JSON.stringify(newItem);\n      localStorage.setItem(itemName, stringifiedItem);\n      setItem(newItem);\n    } catch (error) {\n      // En caso de algún error lo guardamos en el estado\n      setError(error);\n    }\n  };\n\n  // Para tener un mejor control de los datos retornados, podemos regresarlos dentro de un objeto\n  return {\n    item,\n    saveItem,\n    loading,\n    error\n  };\n}\n_s(useLocalStorage, \"sd/jOzXoKWa10AnxNJGXHNbuvYQ=\");\nfunction App() {\n  _s2();\n  // Desestructuramos los nuevos datos de nustro custom hook\n  const {\n    item: todos,\n    saveItem: saveTodos,\n    loading,\n    error\n  } = useLocalStorage('TODOS_V1', []);\n  const [searchValue, setSearchValue] = React.useState('');\n  const completedTodos = todos.filter(todo => !!todo.completed).length;\n  const totalTodos = todos.length;\n  let searchedTodos = [];\n  if (!searchValue.length >= 1) {\n    searchedTodos = todos;\n  } else {\n    searchedTodos = todos.filter(todo => {\n      const todoText = todo.text.toLowerCase();\n      const searchText = searchValue.toLowerCase();\n      return todoText.includes(searchText);\n    });\n  }\n  const completeTodo = text => {\n    const todoIndex = todos.findIndex(todo => todo.text === text);\n    const newTodos = [...todos];\n    newTodos[todoIndex].completed = true;\n    saveTodos(newTodos);\n  };\n  const deleteTodo = text => {\n    const todoIndex = todos.findIndex(todo => todo.text === text);\n    const newTodos = [...todos];\n    newTodos.splice(todoIndex, 1);\n    saveTodos(newTodos);\n  };\n  return {/* Pasamos los valores de loading y error */};\n}\n_s2(App, \"m25aSXImkroBvDgIykS4I+vJD84=\", false, function () {\n  return [useLocalStorage];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","AppUI","useLocalStorage","itemName","initialValue","_s","error","setError","useState","loading","setLoading","item","setItem","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem","stringifiedItem","App","_s2","todos","saveTodos","searchValue","setSearchValue","completedTodos","filter","todo","completed","length","totalTodos","searchedTodos","todoText","text","toLowerCase","searchText","includes","completeTodo","todoIndex","findIndex","newTodos","deleteTodo","splice","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/CURSO-ALURA-ALEXANDRA/front-end/to-do-app/src/App/index.js"],"sourcesContent":["import React from 'react';\nimport {AppUI} from './AppUI';\n\nfunction useLocalStorage(itemName, initialValue) {\n  // Creamos el estado inicial para nuestros errores y carga\n  const [error, setError] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const [item, setItem] = React.useState(initialValue);\n  \n  React.useEffect(() => {\n  // Simulamos un segundo de delay de carga \n    setTimeout(() => {\n      // Manejamos la tarea dentro de un try/catch por si ocurre algún error\n      try {\n        const localStorageItem = localStorage.getItem(itemName);\n        let parsedItem;\n        \n        if (!localStorageItem) {\n          localStorage.setItem(itemName, JSON.stringify(initialValue));\n          parsedItem = initialValue;\n        } else {\n          parsedItem = JSON.parse(localStorageItem);\n        }\n\n        setItem(parsedItem);\n      } catch(error) {\n      // En caso de un error lo guardamos en el estado\n        setError(error);\n      } finally {\n        // También podemos utilizar la última parte del try/cath (finally) para terminar la carga\n        setLoading(false);\n      }\n    }, 1000);\n  });\n  \n  const saveItem = (newItem) => {\n    // Manejamos la tarea dentro de un try/catch por si ocurre algún error\n    try {\n      const stringifiedItem = JSON.stringify(newItem);\n      localStorage.setItem(itemName, stringifiedItem);\n      setItem(newItem);\n    } catch(error) {\n      // En caso de algún error lo guardamos en el estado\n      setError(error);\n    }\n  };\n\n  // Para tener un mejor control de los datos retornados, podemos regresarlos dentro de un objeto\n  return {\n    item,\n    saveItem,\n    loading,\n    error,\n  };\n}\n\nfunction App() {\n  // Desestructuramos los nuevos datos de nustro custom hook\n  const {\n    item: todos,\n    saveItem: saveTodos,\n    loading,\n    error,\n  } = useLocalStorage('TODOS_V1', []);\n  const [searchValue, setSearchValue] = React.useState('');\n\n  const completedTodos = todos.filter(todo => !!todo.completed).length;\n  const totalTodos = todos.length;\n\n  let searchedTodos = [];\n\n  if (!searchValue.length >= 1) {\n    searchedTodos = todos;\n  } else {\n    searchedTodos = todos.filter(todo => {\n      const todoText = todo.text.toLowerCase();\n      const searchText = searchValue.toLowerCase();\n      return todoText.includes(searchText);\n    });\n  }\n\n  const completeTodo = (text) => {\n    const todoIndex = todos.findIndex(todo => todo.text === text);\n    const newTodos = [...todos];\n    newTodos[todoIndex].completed = true;\n    saveTodos(newTodos);\n  };\n\n  const deleteTodo = (text) => {\n    const todoIndex = todos.findIndex(todo => todo.text === text);\n    const newTodos = [...todos];\n    newTodos.splice(todoIndex, 1);\n    saveTodos(newTodos);\n  };\n\n  return (\n    {/* Pasamos los valores de loading y error */}\n    \n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}