{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/CURSO-ALURA-ALEXANDRA/front-end/to-do-app/Todo-App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";function useLocalStorage(itemName,initialValue){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),error=_React$useState2[0],setError=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var _React$useState5=React.useState(initialValue),_React$useState6=_slicedToArray(_React$useState5,2),item=_React$useState6[0],setItem=_React$useState6[1];React.useEffect(function(){setTimeout(function(){try{var localStorageItem=localStorage.getItem(itemName);var parsedItem;if(!localStorageItem){localStorage.setItem(itemName,JSON.stringify(initialValue));parsedItem=initialValue;}else{parsedItem=JSON.parse(localStorageItem);}setItem(parsedItem);setLoading(false);}catch(error){setError(error);}},1000);});var saveItem=function saveItem(newItem){try{var stringifiedItem=JSON.stringify(newItem);localStorage.setItem(itemName,stringifiedItem);setItem(newItem);}catch(error){setError(error);}};return{item:item,saveItem:saveItem,loading:loading,error:error};};export{useLocalStorage};","map":{"version":3,"names":["React","useLocalStorage","itemName","initialValue","_React$useState","useState","_React$useState2","_slicedToArray","error","setError","_React$useState3","_React$useState4","loading","setLoading","_React$useState5","_React$useState6","item","setItem","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem","stringifiedItem"],"sources":["C:/Users/user/Desktop/CURSO-ALURA-ALEXANDRA/front-end/to-do-app/Todo-App/src/todoContext/useLocalStorage.js"],"sourcesContent":["import React from \"react\";\r\n\r\nfunction useLocalStorage(itemName, initialValue) {\r\n    const [error, setError] = React.useState(false);\r\n    const [loading, setLoading] = React.useState(true);\r\n    const [item, setItem] = React.useState(initialValue);\r\n    \r\n    React.useEffect(() => {\r\n      setTimeout(() => {\r\n        try {\r\n          const localStorageItem = localStorage.getItem(itemName);\r\n          let parsedItem;\r\n          \r\n          if (!localStorageItem) {\r\n            localStorage.setItem(itemName, JSON.stringify(initialValue));\r\n            parsedItem = initialValue;\r\n          } else {\r\n            parsedItem = JSON.parse(localStorageItem);\r\n          }\r\n  \r\n          setItem(parsedItem);\r\n          setLoading(false);\r\n        } catch(error) {\r\n          setError(error);\r\n        }\r\n      }, 1000);\r\n    });\r\n    \r\n    const saveItem = (newItem) => {\r\n      try {\r\n        const stringifiedItem = JSON.stringify(newItem);\r\n        localStorage.setItem(itemName, stringifiedItem);\r\n        setItem(newItem);\r\n      } catch(error) {\r\n        setError(error);\r\n      }\r\n    };\r\n  \r\n    return {\r\n      item,\r\n      saveItem,\r\n      loading,\r\n      error,\r\n    };\r\n  };\r\n\r\n  export {useLocalStorage};"],"mappings":"8JAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,QAAS,CAAAC,eAAeA,CAACC,QAAQ,CAAEC,YAAY,CAAE,CAC7C,IAAAC,eAAA,CAA0BJ,KAAK,CAACK,QAAQ,CAAC,KAAK,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAAxCI,KAAK,CAAAF,gBAAA,IAAEG,QAAQ,CAAAH,gBAAA,IACtB,IAAAI,gBAAA,CAA8BV,KAAK,CAACK,QAAQ,CAAC,IAAI,CAAC,CAAAM,gBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAA3CE,OAAO,CAAAD,gBAAA,IAAEE,UAAU,CAAAF,gBAAA,IAC1B,IAAAG,gBAAA,CAAwBd,KAAK,CAACK,QAAQ,CAACF,YAAY,CAAC,CAAAY,gBAAA,CAAAR,cAAA,CAAAO,gBAAA,IAA7CE,IAAI,CAAAD,gBAAA,IAAEE,OAAO,CAAAF,gBAAA,IAEpBf,KAAK,CAACkB,SAAS,CAAC,UAAM,CACpBC,UAAU,CAAC,UAAM,CACf,GAAI,CACF,GAAM,CAAAC,gBAAgB,CAAGC,YAAY,CAACC,OAAO,CAACpB,QAAQ,CAAC,CACvD,GAAI,CAAAqB,UAAU,CAEd,GAAI,CAACH,gBAAgB,CAAE,CACrBC,YAAY,CAACJ,OAAO,CAACf,QAAQ,CAAEsB,IAAI,CAACC,SAAS,CAACtB,YAAY,CAAC,CAAC,CAC5DoB,UAAU,CAAGpB,YAAY,CAC3B,CAAC,IAAM,CACLoB,UAAU,CAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC,CAC3C,CAEAH,OAAO,CAACM,UAAU,CAAC,CACnBV,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAML,KAAK,CAAE,CACbC,QAAQ,CAACD,KAAK,CAAC,CACjB,CACF,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAAC,CAEF,GAAM,CAAAmB,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,OAAO,CAAK,CAC5B,GAAI,CACF,GAAM,CAAAC,eAAe,CAAGL,IAAI,CAACC,SAAS,CAACG,OAAO,CAAC,CAC/CP,YAAY,CAACJ,OAAO,CAACf,QAAQ,CAAE2B,eAAe,CAAC,CAC/CZ,OAAO,CAACW,OAAO,CAAC,CAClB,CAAE,MAAMpB,KAAK,CAAE,CACbC,QAAQ,CAACD,KAAK,CAAC,CACjB,CACF,CAAC,CAED,MAAO,CACLQ,IAAI,CAAJA,IAAI,CACJW,QAAQ,CAARA,QAAQ,CACRf,OAAO,CAAPA,OAAO,CACPJ,KAAK,CAALA,KACF,CAAC,CACH,CAAC,CAED,OAAQP,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}